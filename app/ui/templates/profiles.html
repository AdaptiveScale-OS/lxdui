{% extends "index.html" %}
{% block content %}
<div id="profileList">
    <div class="col-lg-12 main-div" id="set-div">
        <legend class="legend">
            <span>Profiles </span><span style="vertical-align: middle;
padding-top: 10px;"><label class="loader"></label></span>
        </legend>

        <div class="col-lg-12">
            <div class="form-group">
                <button id="buttonNewProfile" class="btn btn-success pull-right">
                        <span class="glyphicon glyphicon-plus-sign"> </span>
                         New Profile
                </button>
                <button class="btn btn-danger btn-delete_container pull-right" style="margin-right:5px;" id="buttonDeleteProfile">
                    <span class="glyphicon glyphicon-remove-sign"> </span> Delete
                </button>
            </div>

        </div>
        <br>
        <br>
        <br>

        <div class="col-lg-12">
            <table class="table table-bordered" id="tableProfiles">
                <thead>
                <th>#</th>
                <th>Name</th>
                <th>Description</th>
                <th>Config</th>
                <th>Devices</th>
                <th>Used by</th>

                </thead>
                <tbody>
                {% for profile in profiles %}
                <tr id="{{profile.name}}">
                    <td></td>
                    <td>{{profile.name}}</td>
                    <td>{{ profile.description }}</td>
                    <td>
                         {% for device in profile.devices %}
                        <ul>
                            <h5>{{device}}</h5>
                            {% for key, value in profile.devices[device].items() %}

                            <li>{{key}}: {{value}}</li>
                            {% endfor %}
                        </ul>
                         {% endfor %}
                    </td>
                    <td>
                        <ul>
                            {% for key, value in profile.config.items() %}

                            {{key}}: {{value}}<br>
                            {% endfor %}
                        </ul>
                    </td>
                    <td>
                     {% for used in profile.used_by %}
                        <li>{{used}}</li>
                     {% endfor %}
                    </td>

                </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>

<div id="newProfile" hidden>
    <div class="col-lg-12 main-div" id="set-div">
        <legend>Profiles</legend>

        <div>
            <div class="form-group">
                <button id="backProfile" class="btn">
                        <span class="glyphicon glyphicon-chevron-left"> </span>
                         Back
                </button>
            </div>
        </div>


        <div class="col-lg-12">
            <form id="profileForm" class="form-horizontal">
                <div class="form-group">
                    <label for="name" class="col-sm-3 control-label">Profile Name</label>
                    <div class="col-sm-3">
                        <input id="name" name="name" class="form-control" type="text" placeholder="Profile Name" title="Profile Name" required/>
                    </div>
                </div>
                <!--<div class="form-group">-->
                    <!--<label for="description" class="col-sm-3 control-label">Profile Description</label>-->
                    <!--<div class="col-sm-3">-->
                        <!--<input id="description" name="description" class="form-control" type="text" placeholder="Profile Description" title="Profile Description"/>-->
                    <!--</div>-->
                <!--</div>-->
                <div class="form-group">
                    <label for="configEditor" class="col-sm-3 control-label">Config (JSON)</label>
                    <div class="col-sm-3">
                        <div id="configEditor" style="width: 300px; height:200px; position:relative;"></div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="devicesEditor" class="col-sm-3 control-label">Devices (JSON)</label>
                    <div class="col-sm-3">
                        <div id="devicesEditor" name="devicesEditor" style="width: 300px; height:200px; position:relative;"></div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="form-inline col-md-offset-3 col-md-3" style="margin-top:10px;">
                        <button id="buttonCreateProfile" class="btn btn-primary">Create Profile</button>
                    </div>
                </div>
            </form>

            <!--<button id="buttonCreateProfile" class="btn btn-primary">Create Profile</button>-->
        </div>
    </div>
</div>
{% endblock %}